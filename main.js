(()=>{"use strict";class t{constructor(t){this.element=t,this.activeCell="",this.interval=1e3,this.intervalId=null,this.cells=this.element.querySelectorAll(".cell")}renderingGame(){this.selectionCell(),this.intervalGame(this.interval)}selectionCell(){const t=Math.floor(Math.random()*this.cells.length);return this.activeCell!==this.cells[t]?(this.activeCell=this.cells[t],this.activeCell):this.selectionCell()}deactivateCell(){this.activeCell.className="cell"}activateCell(){this.activeCell.classList.add("cell_goblin")}intervalGame(t){this.intervalId=setInterval((()=>{this.deactivateCell(),this.selectionCell(),this.activateCell()}),t)}stopRenderingGame(){clearInterval(this.intervalId),this.deactivateCell()}}class e{constructor(t){this.goblin=t,this.clickNewGame=this.clickNewGame.bind(this),this.clickCounts=this.clickCounts.bind(this),this.board=document.querySelector(".board"),this.button=document.querySelector(".button"),this.fail=document.querySelector(".fail"),this.hit=document.querySelector(".hit"),this.modal=document.querySelector(".modal"),this.hitControl=document.querySelector(".hit_control"),this.failControl=document.querySelector(".fail_control"),this.countHits=0,this.countFails=0}startGame(){this.goblin.renderingGame(),this.resetCounts(),this.board.addEventListener("click",this.clickCounts)}clickCounts(t){t.preventDefault(),t.target.className.includes("cell_goblin")?(this.countHits+=1,this.hitControl.textContent=this.countHits,this.goblin.deactivateCell()):t.target.classList.contains("cell")&&(this.countFails+=1,this.failControl.textContent=this.countFails),this.countsControl()}showModal(){this.modal.classList.remove("hidden"),this.button.classList.remove("hidden"),this.board.removeEventListener("click",this.clickCounts),this.goblin.stopRenderingGame(),this.button.addEventListener("click",this.clickNewGame)}closeModal(){this.modal.classList.add("hidden"),this.button.classList.add("hidden"),this.fail.classList.contains("hidden")||this.fail.classList.add("hidden"),this.hit.classList.contains("hidden")||this.hit.classList.add("hidden")}clickNewGame(){this.button.removeEventListener("click",this.clickNewGame),this.closeModal(),this.startGame()}countsControl(){5===this.countFails&&(this.showModal(),this.fail.classList.remove("hidden")),10===this.countHits&&(this.showModal(),this.hit.classList.remove("hidden"))}resetCounts(){this.countFails=0,this.countHits=0,this.hitControl.textContent=this.countHits,this.failControl.textContent=this.countFails}}document.addEventListener("DOMContentLoaded",(()=>{const i=new t(document.querySelector(".board"));new e(i).startGame()}))})();